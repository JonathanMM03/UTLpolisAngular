<div class="p-3">
    <div class="filtros mb-4">
        <input type="text" [(ngModel)]="nombreFiltro" (ngModelChange)="onFiltroCambio()"
            placeholder="Buscar producto..." class="form-control mb-3" />

        <select [(ngModel)]="categoriaFiltro" (change)="onFiltroCambio()" class="form-select">
            <option *ngFor="let cat of categorias" [value]="cat.value">{{ cat.display }}</option>
        </select>
    </div>

    <div *ngIf="cargando" class="alert alert-info">Cargando productos...</div>
    <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

    <div class="row overflow-auto" style="max-height: 700px;">
        <div class="col-md-4 mb-4" *ngFor="let producto of productos">
            <div class="card h-100 shadow-sm border rounded p-3">
                <img [src]="producto.imagen" alt="Imagen de {{ producto.nombre }}" class="card-img-top p-3"
                    style="height: 200px; object-fit: contain;" />
                <div class="card-body d-flex flex-column text-center p-2">
                    <h5 class="card-title">{{ producto.nombre }}</h5>
                    <p class="card-text descripcion-limitada flex-grow-1">{{ producto.descripcion }}</p>
                    <p class="text-muted fw-bold mb-3">$ {{ producto.precio | number:'1.2-2' }}</p>
                    <a href="#" class="btn btn-primary mt-auto">Ver Detalle</a>
                </div>
            </div>
        </div>
    </div>
</div>